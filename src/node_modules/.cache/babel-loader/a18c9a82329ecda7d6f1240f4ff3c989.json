{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/A/Desktop/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/A/Desktop/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/A/Desktop/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/A/Desktop/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{db}from\"../../firebase\";import{collection,query,onSnapshot,addDoc,doc,deleteDoc,updateDoc}from\"firebase/firestore\";import checkIcon from\"../../assets/checkIcon.png\";// import hihi from \"../../assets/hihi.jpg\";\nimport\"./Todo.css\";import TodoList from\"../TodoList/TodoList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Todo=function Todo(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),todos=_React$useState2[0],setTodos=_React$useState2[1];React.useEffect(function(){var q=query(collection(db,\"todo-list\"));var unsub=onSnapshot(q,function(querySnapshot){var todosArray=[];querySnapshot.forEach(function(doc){todosArray.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setTodos(todosArray);});return function(){return unsub();};},[]);function handleValueChange(event){setValue(event.target.value);}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!value.trim()){_context.next=5;break;}_context.next=4;return addDoc(collection(db,\"todo-list\"),{value:value,isComplete:false});case 4:setValue(\"\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleDone=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(todos){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateDoc(doc(db,\"todo-list\",todos.id),{isComplete:!todos.isComplete});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDone(_x2){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return deleteDoc(doc(db,\"todo-list\",id));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(_x3){return _ref3.apply(this,arguments);};}();var handleEdit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(todos,value){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return updateDoc(doc(db,\"todo-list\",todos.id),{value:value.trim()});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function handleEdit(_x4,_x5){return _ref4.apply(this,arguments);};}();// const handleShowDone = async (todos) => {\n//   await todos.forEach((i) => {\n//     if (i.isComplete === true) {\n//       console.log(\"=====\");\n//     }\n//   });\n//   // const newTodo = [];\n//   // todoList.forEach((i) => {\n//   //   if (i.isComplete === true) {\n//   //     newTodo.push(i);\n//   //   }\n//   //   console.log(newTodo);\n//   //   setTodo(newTodo);\n//   // });\n// };\n// function handleShowNotDone() {\n//   // const newTodo = [];\n//   // todoList.forEach((i) => {\n//   //   if (i.isComplete === false) {\n//   //     newTodo.push(i);\n//   //   }\n//   //   setTodo(newTodo);\n//   // });\n// }\n// function handleShowAll() {\n//   // setTodo(todoList);\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Todo container m-5 p-2 rounded mx-auto shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row m-1 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-1 h1 text-primary text-center mx-auto display-inline-block\",children:[/*#__PURE__*/_jsx(\"img\",{src:checkIcon,alt:\"check\",className:\"las la-check text-white rounded p-2\"}),/*#__PURE__*/_jsx(\"u\",{className:\"todo-title\",children:\"Chu's Todo-s\"})]})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row m-1 p-3 todo-input\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col col-11 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row bg-white rounded shadow-sm p-2 add-todo-wrapper align-items-center justify-content-center header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add new ...\",value:value,onChange:handleValueChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto px-0 mx-0 mr-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btnAdd\",onChange:handleValueChange,children:\"Add\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 mx-4 border-black-25 border-bottom\"})]}),/*#__PURE__*/_jsx(TodoList,{toDos:todos,handleDone:handleDone,handleDelete:handleDelete,handleEdit:handleEdit})]})});};export default Todo;","map":{"version":3,"sources":["C:/Users/A/Desktop/todo/src/components/Todo/Todo.jsx"],"names":["React","useState","db","collection","query","onSnapshot","addDoc","doc","deleteDoc","updateDoc","checkIcon","TodoList","Todo","value","setValue","todos","setTodos","useEffect","q","unsub","querySnapshot","todosArray","forEach","push","data","id","handleValueChange","event","target","handleSubmit","preventDefault","trim","isComplete","handleDone","handleDelete","handleEdit"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport { db } from \"../../firebase\";\r\nimport {\r\n  collection,\r\n  query,\r\n  onSnapshot,\r\n  addDoc,\r\n  doc,\r\n  deleteDoc,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport checkIcon from \"../../assets/checkIcon.png\";\r\n// import hihi from \"../../assets/hihi.jpg\";\r\nimport \"./Todo.css\";\r\nimport TodoList from \"../TodoList/TodoList\";\r\n\r\nconst Todo = () => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const [todos, setTodos] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    const q = query(collection(db, \"todo-list\"));\r\n    const unsub = onSnapshot(q, (querySnapshot) => {\r\n      let todosArray = [];\r\n      querySnapshot.forEach((doc) => {\r\n        todosArray.push({ ...doc.data(), id: doc.id });\r\n      });\r\n      setTodos(todosArray);\r\n    });\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  function handleValueChange(event) {\r\n    setValue(event.target.value);\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (value.trim()) {\r\n      await addDoc(collection(db, \"todo-list\"), {\r\n        value,\r\n        isComplete: false,\r\n      });\r\n      setValue(\"\");\r\n    }\r\n  };\r\n  const handleDone = async (todos) => {\r\n    await updateDoc(doc(db, \"todo-list\", todos.id), {\r\n      isComplete: !todos.isComplete,\r\n    });\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    await deleteDoc(doc(db, \"todo-list\", id));\r\n  };\r\n\r\n  const handleEdit = async (todos, value) => {\r\n    await updateDoc(doc(db, \"todo-list\", todos.id), {\r\n      value: value.trim(),\r\n    });\r\n  };\r\n  // const handleShowDone = async (todos) => {\r\n  //   await todos.forEach((i) => {\r\n  //     if (i.isComplete === true) {\r\n  //       console.log(\"=====\");\r\n  //     }\r\n  //   });\r\n  //   // const newTodo = [];\r\n  //   // todoList.forEach((i) => {\r\n  //   //   if (i.isComplete === true) {\r\n  //   //     newTodo.push(i);\r\n  //   //   }\r\n  //   //   console.log(newTodo);\r\n  //   //   setTodo(newTodo);\r\n  //   // });\r\n  // };\r\n  // function handleShowNotDone() {\r\n  //   // const newTodo = [];\r\n  //   // todoList.forEach((i) => {\r\n  //   //   if (i.isComplete === false) {\r\n  //   //     newTodo.push(i);\r\n  //   //   }\r\n  //   //   setTodo(newTodo);\r\n  //   // });\r\n  // }\r\n\r\n  // function handleShowAll() {\r\n  //   // setTodo(todoList);\r\n  // }\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div className=\"Todo container m-5 p-2 rounded mx-auto shadow\">\r\n        <div className=\"row m-1 p-4\">\r\n          <div className=\"col\">\r\n            <div className=\"p-1 h1 text-primary text-center mx-auto display-inline-block\">\r\n              <img\r\n                src={checkIcon}\r\n                alt=\"check\"\r\n                className=\"las la-check text-white rounded p-2\"\r\n              ></img>\r\n              <u className=\"todo-title\">Chu's Todo-s</u>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"row m-1 p-3 todo-input\">\r\n            <div className=\"col col-11 mx-auto\">\r\n              <div className=\"row bg-white rounded shadow-sm p-2 add-todo-wrapper align-items-center justify-content-center header\">\r\n                <div className=\"col\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Add new ...\"\r\n                    value={value}\r\n                    onChange={handleValueChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-auto px-0 mx-0 mr-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btnAdd\"\r\n                    onChange={handleValueChange}\r\n                  >\r\n                    Add\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"p-2 mx-4 border-black-25 border-bottom\"></div>\r\n          {/* <div className=\"button-todo col col-11 mx-auto\">\r\n          <button className=\"btn\" type=\"button\" onClick={handleShowAll}>\r\n            Show all\r\n          </button>\r\n          <button className=\"btn \" type=\"button\" onClick={handleShowDone}>\r\n            Show done\r\n          </button>\r\n          <button className=\"btn\" type=\"button\" onClick={handleShowNotDone}>\r\n            Show Unfinished\r\n            </button>\r\n          </div> */}\r\n        </form>\r\n        <TodoList\r\n          toDos={todos}\r\n          handleDone={handleDone}\r\n          handleDelete={handleDelete}\r\n          handleEdit={handleEdit}\r\n        ></TodoList>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Todo;\r\n"]},"metadata":{},"sourceType":"module"}